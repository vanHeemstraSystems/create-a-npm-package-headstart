---
title: "Creating a GitHub Action"
---

Based on "Fully Automated npm publish using GitHub Actions and Semantic Release" at https://www.youtube.com/watch?v=QZdY4XYbqLI


the next step is to create our action so i will go over here create on actions and you can see that we have quite a few actions over there we need to click on these
more continuous integration workflows and one of those continuous integrations workflows will be nodejs so you can see it over here


we will click on set up this workflow and now the first thing you might see is this name and over here you can decide any name for that yml file it really doesn't matter but in my case i will call it publish

then what do we have over here we have on push to the branch main all of these jobs will run at the same time if we have a pull request from any branch into master that request will run all of these jobs as well but in reality if you want more than only to master let's say that you have branches from development to production and you want to run everything that goes into production well you can come over here and say main and then say also production 

in my case i want it to run everywhere so we can just put this star over here and it will open in every single pull request we will run those jobs

okay then the first thing that we have over here is jobs and then this is the name of our job we can change it to for example quality checks quality
any name you want i will just type it as quality because we are going to do the unit testing the linting everything that you want to validate before you with the git publish okay or sorry the npm publish

now the first thing that we need to check over here is these runs it's running now on ubuntu the latest version you might want to run this in multiple versions of your operating system so if you really want to do that you can come over here into these my tricks and these my tricks are all the options that exist so you can come over here and say the following 

os and i will say ubuntu latest and windows latest okay and saying those two now our operating systems available in this matrix are ubuntu latest and windows latest 

you can also decide to have mac os latest if you want to now the only change we need to do is over here i will need to come over here and do the following matrix dot
os so this matrix now has two operating systems and one two three four versions of node so we are going to create eight possible jobs every single version of node to ubuntu latest and every single version of node to our windows latest so we will have eight jobs running and what we are saying over here in these runs on is just to have that operating system that we are deciding to have right

now that that bit is out of the way and we are running this in multiple versions of node multiple operating systems we can start to look into what really matters for us which is these steps over here and this first one is just to clone and check out our branch so this one is very needed right and then this one is just to set up node.js and as you can see it's already using that matrix for the node version that we are using

then is our own commands the first one is the npmci which is similar to npm installed then we are building this library we are running tests and you can run a lot of other stuff over here so for now i will just say yes start the commit i want this i will say create publish any message that you want here so any message you want here it really doesn't matter

i will say commit the new file and now i have that file over here okay and you can see that if i go now to actions it will start already a new action and this action will take anywhere from one minute to five minutes more or less so as you will see in this video i will do a lot of fast forward for you otherwise you will have to wait all the time for me and for the github actions to run okay but as you can see already you are running version 10 of node in ubuntu version 10 on
windows latest and then version 12 on both so the more operating systems and the more versions of node.js you put the more jobs will run 

if you are in a public repository is not a big deal but if you are in a private repository you have only 2 000 minutes free i think it's per month or per week i will verify input somewhere on the video uh and after that amount you will start to be charged for it so right now i will just fast forward this for you to not have to
wait for all of this to run around three minutes after as you can see over here all our jobs finish their execution
